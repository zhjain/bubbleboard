# Bubbleboard

一个基于 Phoenix Channels 的实时协作平台，支持多用户聊天和绘图功能。

## 功能特性

### 💬 实时聊天
- **多用户聊天室**: 支持多个用户同时在线聊天
- **用户身份管理**: 用户可以设置和修改自己的用户名
- **消息历史**: 自动保存和显示聊天历史记录
- **在线状态**: 实时显示当前在线用户数量
- **用户存在感知**: 基于 Phoenix Presence 的用户在线状态跟踪

### 🎨 实时绘图协作
- **协作绘图**: 支持多用户同时在画板上绘图
- **实时同步**: 绘图操作实时广播给所有连接的用户
- **共享画布**: 所有用户共享同一个绘图画布

### 🔧 技术特性
- **WebSocket 连接**: 基于 Phoenix Channels 的实时双向通信
- **状态管理**: 使用 Agent 进行应用状态管理
- **用户会话**: 自动生成唯一用户标识符
- **响应式界面**: 使用 Tailwind CSS 构建的现代化用户界面
- **本地存储**: 用户名等设置保存在浏览器本地存储中

## 核心组件

### 后端架构
- **RoomChannel**: 处理聊天消息、绘图事件和用户管理
- **RoomAgent**: 管理聊天室状态和消息历史
- **Presence**: 跟踪用户在线状态和存在感知
- **用户会话**: 自动生成短UUID作为用户标识

### 前端功能
- **ChatRoom**: JavaScript 类管理聊天室交互
- **实时消息**: 即时消息发送和接收
- **用户界面**: 用户名编辑、消息输入等交互功能
- **状态同步**: 与服务器的实时状态同步

## 支持的事件

### 聊天功能
- `message:new` - 发送新消息
- `message:history` - 获取历史消息
- `user:edit` - 编辑用户名

### 绘图功能  
- `draw` - 绘图操作广播

### 系统功能
- `presence_state` - 用户在线状态
- `ping` - 连接测试
- `shout` - 广播消息

Bubbleboard 提供了一个完整的实时协作环境，适合团队协作、在线教学、创意分享等多种场景。
